void fit_example_nGd()
{
//=========Macro generated from canvas: c1/c1
//=========  (Mon Jul  8 21:32:09 2019) by ROOT version 6.13/02
   TCanvas *c1 = new TCanvas("c1", "c1",0,23,800,600);
   gStyle->SetOptFit(1);
   gStyle->SetOptStat(0);
   c1->SetHighLightColor(2);
   c1->Range(3.961039,-0.2088022,10.45455,1.183212);
   c1->SetFillColor(0);
   c1->SetBorderMode(0);
   c1->SetBorderSize(2);
   c1->SetGridx();
   c1->SetGridy();
   c1->SetTickx(1);
   c1->SetTicky(1);
   c1->SetLeftMargin(0.16);
   c1->SetRightMargin(0.07);
   c1->SetBottomMargin(0.15);
   c1->SetFrameLineWidth(2);
   c1->SetFrameBorderMode(0);
   c1->SetFrameLineWidth(2);
   c1->SetFrameBorderMode(0);
   
   TH1D *EDetectorDelayedDiff_Cell2__copy__3 = new TH1D("EDetectorDelayedDiff_Cell2__copy__3","",100,5,10);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(1,0.440037);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(2,0.4463761);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(3,0.4492758);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(4,0.4501794);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(5,0.4577214);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(6,0.4585149);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(7,0.4800345);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(8,0.4706729);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(9,0.4663806);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(10,0.4589682);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(11,0.4800356);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(12,0.4774747);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(13,0.4802897);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(14,0.4800079);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(15,0.4794052);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(16,0.4865432);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(17,0.4808785);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(18,0.4830852);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(19,0.4793082);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(20,0.486728);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(21,0.4757304);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(22,0.4844745);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(23,0.489913);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(24,0.4728323);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(25,0.4803119);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(26,0.4799294);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(27,0.4878146);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(28,0.4836449);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(29,0.4851919);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(30,0.4910142);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(31,0.4894152);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(32,0.4947304);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(33,0.4930946);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(34,0.4943785);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(35,0.5125141);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(36,0.5056846);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(37,0.4967479);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(38,0.5078546);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(39,0.5149555);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(40,0.5294684);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(41,0.5260168);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(42,0.5433201);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(43,0.544057);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(44,0.5484363);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(45,0.5659977);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(46,0.5730674);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(47,0.584214);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(48,0.5936374);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(49,0.6039489);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(50,0.6214008);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(51,0.6197402);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(52,0.6395985);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(53,0.6509541);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(54,0.6660641);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(55,0.6953247);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(56,0.7104943);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(57,0.722764);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(58,0.7597976);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(59,0.7942822);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(60,0.8326991);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(61,0.8651461);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(62,0.8946452);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(63,0.9379131);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(64,0.96365);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(65,0.9763774);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(66,1);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(67,0.9860332);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(68,0.9865422);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(69,0.96291);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(70,0.9242854);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(71,0.885759);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(72,0.8339909);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(73,0.7848549);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(74,0.7184103);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(75,0.6566463);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(76,0.6122361);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(77,0.5655998);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(78,0.5007987);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(79,0.451983);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(80,0.4135746);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(81,0.3650092);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(82,0.3322769);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(83,0.3009924);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(84,0.2689835);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(85,0.2424273);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(86,0.2208904);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(87,0.1944551);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(88,0.1642384);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(89,0.1472373);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(90,0.1280802);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(91,0.1141189);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(92,0.104938);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(93,0.09098677);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(94,0.08296327);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(95,0.07573833);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(96,0.06328838);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(97,0.05829674);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(98,0.05787608);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(99,0.04599145);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinContent(100,0.04369888);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(1,0.005096483);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(2,0.005130134);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(3,0.005142396);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(4,0.005147927);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(5,0.005187024);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(6,0.005188826);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(7,0.005303506);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(8,0.005252025);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(9,0.00522821);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(10,0.005186033);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(11,0.005297487);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(12,0.00528285);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(13,0.005297172);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(14,0.005293874);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(15,0.005289385);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(16,0.005326268);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(17,0.005295634);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(18,0.005306049);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(19,0.005284864);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(20,0.005323561);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(21,0.005265099);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(22,0.005310782);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(23,0.005337157);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(24,0.005247046);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(25,0.005286922);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(26,0.005284227);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(27,0.0053256);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(28,0.005303312);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(29,0.005310143);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(30,0.00534158);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(31,0.005331801);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(32,0.00535808);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(33,0.005348631);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(34,0.005353631);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(35,0.005447489);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(36,0.005409942);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(37,0.005363924);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(38,0.005419549);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(39,0.00545497);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(40,0.005528865);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(41,0.005510548);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(42,0.005597831);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(43,0.005600073);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(44,0.005622026);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(45,0.005708151);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(46,0.005741793);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(47,0.005796268);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(48,0.005841041);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(49,0.005890579);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(50,0.005972304);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(51,0.005965435);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(52,0.00605658);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(53,0.006110327);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(54,0.006179199);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(55,0.006310944);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(56,0.006377898);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(57,0.006432639);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(58,0.006592677);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(59,0.006739568);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(60,0.006897516);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(61,0.007029965);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(62,0.007147372);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(63,0.007315958);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(64,0.007414375);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(65,0.007463636);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(66,0.007553245);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(67,0.007500791);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(68,0.00750141);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(69,0.007413112);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(70,0.007263974);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(71,0.007111929);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(72,0.006903935);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(73,0.006698421);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(74,0.00641172);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(75,0.006133253);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(76,0.005922857);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(77,0.005695302);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(78,0.005362518);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(79,0.005097066);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(80,0.004878914);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(81,0.004586927);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(82,0.004379431);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(83,0.004170694);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(84,0.003946147);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(85,0.003748685);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(86,0.003580596);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(87,0.003363618);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(88,0.003099218);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(89,0.002937518);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(90,0.002745188);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(91,0.002596159);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(92,0.002491845);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(93,0.002326642);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(94,0.002226752);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(95,0.002131807);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(96,0.001958024);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(97,0.001884031);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(98,0.001875609);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(99,0.001685806);
   EDetectorDelayedDiff_Cell2__copy__3->SetBinError(100,0.001645011);
   EDetectorDelayedDiff_Cell2__copy__3->SetEntries(204);
   EDetectorDelayedDiff_Cell2__copy__3->SetLineWidth(3);
   EDetectorDelayedDiff_Cell2__copy__3->SetMarkerStyle(8);
   EDetectorDelayedDiff_Cell2__copy__3->SetMarkerSize(1.2);
   EDetectorDelayedDiff_Cell2__copy__3->GetXaxis()->SetTitle("Reconstructed Energy (MeV)");
   EDetectorDelayedDiff_Cell2__copy__3->GetXaxis()->SetRange(1,100);
   EDetectorDelayedDiff_Cell2__copy__3->GetXaxis()->SetLabelFont(42);
   EDetectorDelayedDiff_Cell2__copy__3->GetXaxis()->SetLabelOffset(0.015);
   EDetectorDelayedDiff_Cell2__copy__3->GetXaxis()->SetLabelSize(0.05);
   EDetectorDelayedDiff_Cell2__copy__3->GetXaxis()->SetTitleSize(0.06);
   EDetectorDelayedDiff_Cell2__copy__3->GetXaxis()->SetTitleOffset(1.05);
   EDetectorDelayedDiff_Cell2__copy__3->GetXaxis()->SetTitleFont(42);
   EDetectorDelayedDiff_Cell2__copy__3->GetYaxis()->SetTitle("Counts (a.u.)");
   EDetectorDelayedDiff_Cell2__copy__3->GetYaxis()->SetLabelFont(42);
   EDetectorDelayedDiff_Cell2__copy__3->GetYaxis()->SetLabelOffset(0.015);
   EDetectorDelayedDiff_Cell2__copy__3->GetYaxis()->SetLabelSize(0.05);
   EDetectorDelayedDiff_Cell2__copy__3->GetYaxis()->SetTitleSize(0.06);
   EDetectorDelayedDiff_Cell2__copy__3->GetYaxis()->SetTitleOffset(1.2);
   EDetectorDelayedDiff_Cell2__copy__3->GetYaxis()->SetTitleFont(42);
   EDetectorDelayedDiff_Cell2__copy__3->GetZaxis()->SetLabelFont(42);
   EDetectorDelayedDiff_Cell2__copy__3->GetZaxis()->SetLabelSize(0.05);
   EDetectorDelayedDiff_Cell2__copy__3->GetZaxis()->SetTitleSize(0.06);
   EDetectorDelayedDiff_Cell2__copy__3->GetZaxis()->SetTitleFont(42);
   EDetectorDelayedDiff_Cell2__copy__3->Draw("");
   
   TF1 *fit_function3 = new TF1("fit_function","Crystal Ball fit",7,9.4, TF1::EAddToList::kDefault);
   fit_function3->SetFillColor(19);
   fit_function3->SetFillStyle(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#ff0000");
   fit_function3->SetLineColor(ci);
   fit_function3->SetLineWidth(3);
   fit_function3->SetChisquare(161.2831);
   fit_function3->SetNDF(42);
   fit_function3->GetXaxis()->SetLabelFont(42);
   fit_function3->GetXaxis()->SetLabelOffset(0.015);
   fit_function3->GetXaxis()->SetLabelSize(0.05);
   fit_function3->GetXaxis()->SetTitleSize(0.06);
   fit_function3->GetXaxis()->SetTitleOffset(1.05);
   fit_function3->GetXaxis()->SetTitleFont(42);
   fit_function3->GetYaxis()->SetLabelFont(42);
   fit_function3->GetYaxis()->SetLabelOffset(0.015);
   fit_function3->GetYaxis()->SetLabelSize(0.05);
   fit_function3->GetYaxis()->SetTitleSize(0.06);
   fit_function3->GetYaxis()->SetTitleOffset(1.2);
   fit_function3->GetYaxis()->SetTitleFont(42);
   fit_function3->SetParameter(0,0.1333608);
   fit_function3->SetParError(0,0.00378279);
   fit_function3->SetParLimits(0,0.0007573833,7.573833);
   fit_function3->SetParameter(1,0.4331229);
   fit_function3->SetParError(1,0.004990172);
   fit_function3->SetParLimits(1,0.1,1);
   fit_function3->SetParameter(2,0.8526283);
   fit_function3->SetParError(2,0.00350246);
   fit_function3->SetParLimits(2,0.01,10);
   fit_function3->SetParameter(3,8.295991);
   fit_function3->SetParError(3,0.002790942);
   fit_function3->SetParLimits(3,7,9.4);
   fit_function3->SetParameter(4,1);
   fit_function3->SetParError(4,0.006541161);
   fit_function3->SetParLimits(4,1,40);
   fit_function3->SetParameter(5,0.4511481);
   fit_function3->SetParError(5,0.003975544);
   fit_function3->SetParLimits(5,0.08275,8.275);
   fit_function3->Draw("SAME");
   
   TLegend *leg = new TLegend(0.2105263,0.2160279,0.5902256,0.4268293,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(2);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("EDetectorDelayedDiff_Cell2__copy","n-Gd spectrum in Cell 2","lpf");
   entry->SetFillStyle(1001);
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(3);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(8);
   entry->SetMarkerSize(1.2);
   entry->SetTextFont(42);
   entry=leg->AddEntry("fit_function","Crystal Ball fit","lpflpf");
   entry->SetFillColor(19);

   ci = TColor::GetColor("#ff0000");
   entry->SetLineColor(ci);
   entry->SetLineStyle(1);
   entry->SetLineWidth(3);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(1);
   entry->SetMarkerSize(1);
   entry->SetTextFont(42);
   leg->Draw();
   c1->Modified();
   c1->cd();
   c1->SetSelected(c1);
}
