void fit_example_nH()
{
//=========Macro generated from canvas: c1/c1
//=========  (Mon Jul  8 19:39:03 2019) by ROOT version 6.13/02
   TCanvas *c1 = new TCanvas("c1", "c1",20,43,800,600);
   gStyle->SetOptFit(1);
   gStyle->SetOptStat(0);
   c1->SetHighLightColor(2);
   c1->Range(0.9563637,-0.1978273,4.229091,1.181473);
   c1->SetFillColor(0);
   c1->SetBorderMode(0);
   c1->SetBorderSize(2);
   c1->SetGridx();
   c1->SetGridy();
   c1->SetTickx(1);
   c1->SetTicky(1);
   c1->SetLeftMargin(0.16);
   c1->SetRightMargin(0.07);
   c1->SetBottomMargin(0.15);
   c1->SetFrameLineWidth(2);
   c1->SetFrameBorderMode(0);
   c1->SetFrameLineWidth(2);
   c1->SetFrameBorderMode(0);
   
   TH1D *EDetectorDelayedDiff_Cell2__copy__5 = new TH1D("EDetectorDelayedDiff_Cell2__copy__5","",100,1,4);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(17,0.06054812);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(18,0.183827);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(19,0.1826691);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(20,0.1946151);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(21,0.1901747);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(22,0.1952078);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(23,0.2076776);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(24,0.2062522);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(25,0.2066949);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(26,0.2191426);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(27,0.2241232);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(28,0.2305688);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(29,0.2244498);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(30,0.2324006);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(31,0.2668854);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(32,0.2720068);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(33,0.2871926);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(34,0.3034543);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(35,0.3403248);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(36,0.3727959);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(37,0.4349846);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(38,0.4993167);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(39,0.5756006);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(40,0.651321);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(41,0.7590328);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(42,0.8416729);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(43,0.9244655);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(44,0.971733);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(45,0.999449);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(46,1);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(47,0.9341255);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(48,0.8663194);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(49,0.7703314);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(50,0.6759081);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(51,0.5635687);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(52,0.4679107);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(53,0.4006666);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(54,0.32825);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(55,0.2668532);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(56,0.2328473);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(57,0.1890404);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(58,0.1827487);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(59,0.164725);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(60,0.148765);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(61,0.1536732);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(62,0.1443212);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(63,0.1353627);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(64,0.1344085);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(65,0.1346674);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(66,0.1337117);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(67,0.1388714);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(68,0.1432592);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(69,0.1374611);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(70,0.1363737);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(71,0.1354336);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(72,0.1344809);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(73,0.1356024);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(74,0.1354283);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(75,0.1382937);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(76,0.1348768);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(77,0.1367684);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(78,0.1372074);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(79,0.1379006);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(80,0.1439012);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(81,0.141695);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(82,0.1441254);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(83,0.1396024);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(84,0.1410363);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(85,0.1424876);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(86,0.1432148);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(87,0.1481896);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(88,0.1434212);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(89,0.1400875);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(90,0.1530452);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(91,0.1569933);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(92,0.1472124);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(93,0.1499246);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(94,0.1491141);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(95,0.152923);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(96,0.151157);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(97,0.1556911);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(98,0.1528872);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(99,0.1568339);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinContent(100,0.1556532);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(17,0.003939771);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(18,0.006681042);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(19,0.006488878);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(20,0.006379812);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(21,0.006251608);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(22,0.006172905);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(23,0.006129338);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(24,0.006049646);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(25,0.0059924);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(26,0.005968806);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(27,0.005924916);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(28,0.005871052);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(29,0.005758258);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(30,0.005674545);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(31,0.005677195);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(32,0.005568652);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(33,0.005498613);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(34,0.005442617);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(35,0.005475984);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(36,0.005515844);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(37,0.005681487);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(38,0.005871647);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(39,0.00610824);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(40,0.006354167);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(41,0.00669208);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(42,0.006948824);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(43,0.007196627);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(44,0.00733833);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(45,0.007417511);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(46,0.007418763);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(47,0.007231641);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(48,0.007024456);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(49,0.006735953);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(50,0.006437642);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(51,0.006065531);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(52,0.005743536);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(53,0.005520368);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(54,0.005283985);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(55,0.005090375);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(56,0.00501265);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(57,0.004893296);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(58,0.004916066);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(59,0.004876494);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(60,0.004818829);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(61,0.004821875);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(62,0.004729116);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(63,0.004622131);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(64,0.004515205);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(65,0.004401717);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(66,0.004265499);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(67,0.004160032);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(68,0.004049346);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(69,0.003892246);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(70,0.003775042);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(71,0.003663062);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(72,0.003572848);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(73,0.003501042);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(74,0.003436708);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(75,0.003397809);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(76,0.003334495);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(77,0.003309628);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(78,0.003275109);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(79,0.003245279);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(80,0.003248287);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(81,0.003203021);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(82,0.003187427);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(83,0.003129192);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(84,0.003109769);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(85,0.003093009);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(86,0.003073912);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(87,0.003084018);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(88,0.003035183);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(89,0.002996712);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(90,0.003064341);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(91,0.003066638);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(92,0.002993099);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(93,0.002992917);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(94,0.002975125);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(95,0.002988265);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(96,0.002959944);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(97,0.002976525);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(98,0.002942312);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(99,0.002956648);
   EDetectorDelayedDiff_Cell2__copy__5->SetBinError(100,0.00294026);
   EDetectorDelayedDiff_Cell2__copy__5->SetEntries(510);
   EDetectorDelayedDiff_Cell2__copy__5->SetLineWidth(3);
   EDetectorDelayedDiff_Cell2__copy__5->SetMarkerStyle(8);
   EDetectorDelayedDiff_Cell2__copy__5->SetMarkerSize(1.2);
   EDetectorDelayedDiff_Cell2__copy__5->GetXaxis()->SetTitle("Reconstructed Energy (MeV)");
   EDetectorDelayedDiff_Cell2__copy__5->GetXaxis()->SetRange(17,100);
   EDetectorDelayedDiff_Cell2__copy__5->GetXaxis()->SetLabelFont(42);
   EDetectorDelayedDiff_Cell2__copy__5->GetXaxis()->SetLabelOffset(0.015);
   EDetectorDelayedDiff_Cell2__copy__5->GetXaxis()->SetLabelSize(0.05);
   EDetectorDelayedDiff_Cell2__copy__5->GetXaxis()->SetTitleSize(0.06);
   EDetectorDelayedDiff_Cell2__copy__5->GetXaxis()->SetTitleOffset(1.05);
   EDetectorDelayedDiff_Cell2__copy__5->GetXaxis()->SetTitleFont(42);
   EDetectorDelayedDiff_Cell2__copy__5->GetYaxis()->SetTitle("Counts (a.u.)");
   EDetectorDelayedDiff_Cell2__copy__5->GetYaxis()->SetLabelFont(42);
   EDetectorDelayedDiff_Cell2__copy__5->GetYaxis()->SetLabelOffset(0.015);
   EDetectorDelayedDiff_Cell2__copy__5->GetYaxis()->SetLabelSize(0.05);
   EDetectorDelayedDiff_Cell2__copy__5->GetYaxis()->SetTitleSize(0.06);
   EDetectorDelayedDiff_Cell2__copy__5->GetYaxis()->SetTitleOffset(1.2);
   EDetectorDelayedDiff_Cell2__copy__5->GetYaxis()->SetTitleFont(42);
   EDetectorDelayedDiff_Cell2__copy__5->GetZaxis()->SetLabelFont(42);
   EDetectorDelayedDiff_Cell2__copy__5->GetZaxis()->SetLabelSize(0.05);
   EDetectorDelayedDiff_Cell2__copy__5->GetZaxis()->SetTitleSize(0.06);
   EDetectorDelayedDiff_Cell2__copy__5->GetZaxis()->SetTitleFont(42);
   EDetectorDelayedDiff_Cell2__copy__5->Draw("");
   
   TF1 *fit_function5 = new TF1("fit_function","Crystal Ball fit",1.8,3.5, TF1::EAddToList::kDefault);
   fit_function5->SetFillColor(19);
   fit_function5->SetFillStyle(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#ff0000");
   fit_function5->SetLineColor(ci);
   fit_function5->SetLineWidth(3);
   fit_function5->SetChisquare(88.53215);
   fit_function5->SetNDF(50);
   fit_function5->GetXaxis()->SetLabelFont(42);
   fit_function5->GetXaxis()->SetLabelOffset(0.015);
   fit_function5->GetXaxis()->SetLabelSize(0.05);
   fit_function5->GetXaxis()->SetTitleSize(0.06);
   fit_function5->GetXaxis()->SetTitleOffset(1.05);
   fit_function5->GetXaxis()->SetTitleFont(42);
   fit_function5->GetYaxis()->SetLabelFont(42);
   fit_function5->GetYaxis()->SetLabelOffset(0.015);
   fit_function5->GetYaxis()->SetLabelSize(0.05);
   fit_function5->GetYaxis()->SetTitleSize(0.06);
   fit_function5->GetYaxis()->SetTitleOffset(1.2);
   fit_function5->GetYaxis()->SetTitleFont(42);
   fit_function5->SetParameter(0,0.1385717);
   fit_function5->SetParError(0,0.0007481268);
   fit_function5->SetParLimits(0,0.00152923,15.2923);
   fit_function5->SetParameter(1,1);
   fit_function5->SetParError(1,0.00670073);
   fit_function5->SetParLimits(1,0.1,1);
   fit_function5->SetParameter(2,0.856353);
   fit_function5->SetParError(2,0.003037809);
   fit_function5->SetParLimits(2,0.01,10);
   fit_function5->SetParameter(3,2.338108);
   fit_function5->SetParError(3,0.0005980046);
   fit_function5->SetParLimits(3,1.8,3.5);
   fit_function5->SetParameter(4,4.924618);
   fit_function5->SetParError(4,0.5028993);
   fit_function5->SetParLimits(4,1,40);
   fit_function5->SetParameter(5,0.1521609);
   fit_function5->SetParError(5,0.0006631776);
   fit_function5->SetParLimits(5,0.02365,2.365);
   fit_function5->Draw("SAME");
   
   TLegend *leg = new TLegend(0.5,0.67,0.88,0.88,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(2);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("EDetectorDelayedDiff_Cell2__copy","n-H spectrum in Cell 2","lpf");
   entry->SetFillStyle(1001);
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(3);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(8);
   entry->SetMarkerSize(1.2);
   entry->SetTextFont(42);
   entry=leg->AddEntry("fit_function","Crystal Ball fit","lpflpf");
   entry->SetFillColor(19);

   ci = TColor::GetColor("#ff0000");
   entry->SetLineColor(ci);
   entry->SetLineStyle(1);
   entry->SetLineWidth(3);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(1);
   entry->SetMarkerSize(1);
   entry->SetTextFont(42);
   leg->Draw();
   c1->Modified();
   c1->cd();
   c1->SetSelected(c1);
}
